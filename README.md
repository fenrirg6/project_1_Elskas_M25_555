# Лабиринт сокровищ - текстовая RPG-like "бродилка" на чистом Python

## Описание

**"Лабиринт сокровищ"** - консольная текстовая RPG-игра на чистом Python, реализующая исключительно процедурный подход без ООП.

Игроку предоставляются возможности: исследовать запутанный лабиринт древнего подземелья, собирать предметы, решать головоломки, избегать ловушек и попытаться открыть сундук с сокровищем. Каждый игровой сеанс может сопровождаться неожиданными случайными (псевдорандомными) событиями, которые могут менять ход игры и добавлять реиграбельности.

## Демонстрация игрового сеанса

[![asciicast](https://asciinema.org/a/1234example.svg)](https://asciinema.org/a/wKhb9F4ReeT8wbmSUXkeT7NQ0)

## Возможности

- Процедурная архитектура, **чистый Python**: без классов, ООП, файлов и сторонних библиотек (кроме math).
- Читабельная и расширяемая структура проекта: все модули разбиты по своим зонам ответственности.
- Гибкая модель состояния через единственный словарь `game_state`, передаваемый во все функции.
- Генерация случайных событий без стандартного random — псевдослучайность основана на функцию синуса из `math`.
- Реализация команд через структурное сопоставление (`match/case`), индивидуальная обработка каждой комнаты и события.
- Возможность проигрыша в результате ловушек, победа — при успешном открытии сундука с сокровищем с помощью ключа или разгадки кода.


## Команды игрока

- `go <direction>` — перемещение в указанном направлении (`north`, `south`, `east`, `west`)
- `look` — подробное описание текущей комнаты
- `take <item>` — поднять предмет
- `use <item>` — использовать предмет из инвентаря (множество уникальных эффектов)
- `inventory` — показать инвентарь игрока
- `solve` — попытаться решить загадку в локации (в зале сокровищ — открыть сундук)
- `quit` — выйти из игры
- `help` — список всех доступных команд

Также можно двигаться сокращенными командами: `north`, `east`, `west`, `south` без слова go.

## Установка и конфигурация

Проект полностью настроен для работы на любом дистрибутиве Linux (н., Ubuntu, Debian, Manjaro). Для запуска необходим Python версии 3.10+ и установленный пакетный менеджер [Poetry](https://python-poetry.org/).

### Быстрый старт

1. **Клонируйте репозиторий:**

```bash
git clone <URL-репозитория>
cd <project_name>
```

2. **Установите окружение и зависимости:**

```bash
make install
```

_Эквивалентно команде_ `poetry install` _— создаёт виртуальное окружение в директории проекта и устанавливает все необходимые зависимости._

3. **Запустите игру:**

```bash
make project
```

_Эквивалентно команде_ `poetry run project` — _запускает главный скрипт._

4. **Справка по командам:**
    - Все базовые команды для разработки уже доступны через Makefile:


| Команда | Описание |
| :-- | :-- |
| `make install` | Установка зависимостей через poetry (эквивалентно `poetry install`) |
| `make project` | Запуск вашей игры (`poetry run project`) |
| `make build` | Сборка пакета (`poetry build`) |
| `make publish` | Тестовая публикация в PyPI (`poetry publish --dry-run`) |
| `make package-install` | Локальная установка wheel-пакета (`python3 -m pip install dist/*.whl`) |
| `make lint` | Запуск проверки качества кода Ruff (`poetry run ruff check .`) |

5. **Проверка качества кода:**

```bash
make lint
```

_Выполняет линтинг всех файлов посредством Ruff. При успешных проверках выводится сообщение:_

```
All checks passed!
```

6. **Публикация и сборка пакета:**
    - Для тестовой публикации выполните:

```bash
make build
make publish
```

    - Для установки собранного wheel:

```bash
make package-install
```


## Структура проекта

```
labyrinth_game/
├── __init__.py              # __init__ файл для импортов
├── constants.py             # Карта комнат, описания, список команд, константы для случайных событий
├── player_actions.py        # Действия и инвентарь игрока
├── utils.py                 # Вспомогательные функции, события и генераторы
└── main.py                  # Точка входа, основной игровой цикл и обработка команд
```


## Примеры команд в игре

```
look
go north
take sword
use torch
inventory
solve
help
quit
```

